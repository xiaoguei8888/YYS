# 补充说明
2019.07.04 

* 注意文件路径不要有中文，否则会导致opencv读取图片失败，出现无法读取NoneType的Shape之类的错误
* 如果运行没有提示错误，但是一直匹配失败，空跑鼠标没动，多半是图标精度问题，从自己电脑截取相应图标覆盖jpg文件夹的同名文件，不要改名
* 如果鼠标找到了移动了却不点击，试下用管理员权限运行
* 如果需要ADB多设备多开，可得复制多份运行对应多个设备，需要在action文件里ADB命令中加入设备名称以区分
* 脚本纯属爱好与分享，欢迎一起交流，但不提供售后服务


# YYS挂机辅助
阴阳师手游自动挂机脚本，功能同游戏内自带的小纸人挂机系统类似，等于不受樱饼限制无限使用的小纸人~

## 核心思路：
* 在电脑上用手机模拟器运行游戏，通过截屏与图像识别判断当前场景寻找目标，控制鼠标进行模拟点击
* 使用随机位置偏移与随机操作延迟防检测
* 默认版本是是截屏识别所以游戏窗口需要在前台不能被遮挡/ADB版本后台控制不怕遮挡效率稍慢

## 功能说明
* 自动合卡：在合成界面启动，自动选择前三张卡进行合成
* 自动组队魂十：在御魂开始页面启动，可以作为队长或队员。需要锁定阵容
* 自动单刷业原火： 在业原火挑战界面开启，锁定阵容。同样适用单刷御魂/觉醒/御灵
* 自动组队探索副本：只能作为队员/打手， 需要锁定阵容。自动跟随队长退出，自动授受组队，自动确认通关
* 自动单刷困28副本：地图内启动，无需组队，但是无法单独识别经验BUFF，适合单刷绘卷。

## 其它说明
* PG文件文件里是需要寻找的位置图片，screen.jpg是实时全屏截图，函数封装在action.py，主程序在yys.py。
* 默认模拟器分辨率为1280x720，其它分辨率可能需要重新截图标。推荐夜神模拟器。
* 拟人化的识图与模拟点击，不读取或修改游戏内部数据，只是取代手动操作。
* 自用了大半年效果稳定，因为是自用的所以文档不太仔细，有python & yys共同爱好的可以找我交流。
*
##更新说明
2019.03.06：
添加ADB版本。功能基本不变，操控方向从电脑直接截图、点击，改成了以ADB方式控制模拟器截图点击。优点：截图点击从前台转到后台，不用担心窗口遮挡问题，不影响电脑其它工作。缺点：ADB截图文件需要从模拟器传输到电脑进行分析，效率低并且有小概率传输出错卡死。原始截图片高效稳定但占用屏幕适合组队或无人挂机，ADB效率稳定性低但不影响电脑工作适合边玩电脑边后台休闲挂机。

感谢anywheretogo大佬提供的脚本框架，此脚本在原作基础上加入了很多功能，也修复了一些问题。本人体服玩家，自用脚本，所以会第一时间更新新活动的脚本。

安装python 此脚本兼容Windows和Mac系统，对于不了解python的用户，首先要安装python官方的必要安装包： 3.7.6版本下载地址: https://www.python.org/downloads/release/python-376/， 选择对应的系统就好。

配置程序环境 安装好python后还需要另外安装三个python库，分别是opencv，pyautogui和pyscreenshot。这个步骤Windows和Mac略有不同： Windows：管理员身份打开命令行（cmd）或者powershell，然后分别运行 pip install opencv-python 和 pip install pyautogui 和 pip install pyscreenshot。 Mac：在终端（terminal）下分别运行 pip3 install opencv-python 和 pip3 install pyautogui 和 pip3 install pyscreenshot

运行脚本 打开IDLE程序，然后打开yys.py脚本源代码，点击运行（F5）则开启脚本。 模拟器或者桌面版必须把分辨率设为1280x720，其它分辨率则需要重新截图才能正常工作。

解放双手 Have fun!
